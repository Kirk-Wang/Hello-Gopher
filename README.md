# Gopher

![Gopher](https://golang.org/doc/gopher/frontpage.png)

Go Programming Language æ‰«ç›²

go1.11.2

### Go åŸºç¡€è¯­æ³•è„‘å›¾å›é¡¾

![Go åŸºç¡€è¯­æ³•è„‘å›¾å›é¡¾](./images/Go1.png)

### Go å†…å»ºå®¹å™¨è„‘å›¾å›é¡¾

![Go å†…å»ºå®¹å™¨è„‘å›¾å›é¡¾](./images/Go2.png)

### Go é¢å‘â€œå¯¹è±¡â€

![Go é¢å‘â€œå¯¹è±¡â€](./images/Go3.png)

### Go é¢å‘æ¥å£

![Go é¢å‘æ¥å£](./images/Go4.png)

### Go å‡½æ•°å¼ç¼–ç¨‹

![Go å‡½æ•°å¼ç¼–ç¨‹](./images/Go5.png)

### Go é”™è¯¯å¤„ç†å’Œèµ„æºç®¡ç†

![Go é”™è¯¯å¤„ç†å’Œèµ„æºç®¡ç†](./images/Go6.png)

### Go æµ‹è¯•ä¸æ€§èƒ½è°ƒä¼˜

![Go æµ‹è¯•ä¸æ€§èƒ½è°ƒä¼˜](./images/Go7.png)

### Goroutine

![Goroutine](./images/Go8.png)

### Channel

![Channel](./images/Go9.png)

### httpåŠå…¶ä»–æ ‡å‡†åº“

![httpåŠå…¶ä»–æ ‡å‡†åº“](./images/Go10.png)

### çƒ­èº«ï¼šè¿·å®«çš„å¹¿åº¦ä¼˜å…ˆæœç´¢
              6 5

      (start) 0 1 0 0 0

              0 0 0 1 0

              0 1 0 1 0

              1 1 1 0 0

              0 1 0 0 1

              0 1 0 0 0(end)

![è¿·å®«çš„å¹¿åº¦ä¼˜å…ˆæœç´¢](./images/Go11.png)

### å®æˆ˜é¡¹ç›®

å¦‚ä½•åªåˆ©ç”¨Goè¯­è¨€ï¼Œæ¥å®ç°ä¸€ä¸ªåˆ†å¸ƒå¼åº”ç”¨ç¨‹åº(éº»é›€è™½å°ï¼Œäº”è„ä¿±å…¨^_^)ï¼Ÿ

![å®æˆ˜é¡¹ç›®](./images/Go12.png)

### å•ä»»åŠ¡ç‰ˆ

![å•ä»»åŠ¡ç‰ˆ](./images/Go13.png)

å•ä»»åŠ¡ç‰ˆç½‘ç»œåˆ©ç”¨ç‡ï¼ˆæ¯ç§’æ‰80å¤šK,å› ä¸ºæ˜¯ä¸€ä¸ªä¸€ä¸ªfetchï¼‰

![1.0](./images/1.0spider.png)

### å¹¶å‘ç‰ˆ

![å•ä»»åŠ¡ç‰ˆ](./images/Go14.png)

å¹¶å‘ç‰ˆç½‘ç»œåˆ©ç”¨ç‡ï¼ˆç¬é—´é£™åˆ°1Må¤šæ¯ç§’ï¼Œä½ ç½‘é€Ÿç¨å¾®å¿«ä¸€ç‚¹çš„è¯3ï¼Œ4Mæ¯ç§’æ˜¯å¾ˆæ­£å¸¸çš„ï¼‰

![1.0](./images/2.0spider.png)

æˆ‘è¿™é‡Œå¼€äº†100ä¸ª goroutine å»åšä»»åŠ¡ï¼Œçœ‹ä¸‹é¢ Go ç»™æˆ‘ä»¬å¼€äº† 13 çº¿ç¨‹è·‘è¿™ 100 ä¸ªåç¨‹ï¼Œä½†æ´»è·ƒçš„åªæœ‰3ï¼Œ4ä¸ª

å› ä¸ºæˆ‘çš„æœºå™¨å°±åªæœ‰4æ ¸ï¼ˆğŸ¤£ï¼‰ï¼Œå½“ç„¶è¿˜å¯ä»¥å¼€å¤§ä¸€ç‚¹æ¥æ¦¨å¹² CPU ğŸ¤£

![1.0](./images/2.0top.png)

### æ•°æ®å­˜å‚¨->Elasticsearch

![æ•°æ®å­˜å‚¨](./images/Go15.png)

### åˆ†å¸ƒå¼åˆæ¢

![åˆ†å¸ƒå¼åˆæ¢](./images/Go16.png)

### æ€»ç»“

![æ€»ç»“](./images/Go17.png)

---

## åŸºäº Go è¯­è¨€æ„å»ºä¼ä¸šçº§çš„ RESTful API æœåŠ¡


### é«˜å¯ç”¨ API æ„å»º

![é«˜å¯ç”¨ API æ„å»º](./images/RESTful/api-1.png)

### RESTful API

![RESTful API](./images/RESTful/api-2.png)

### APIæµç¨‹å’Œä»£ç ç»“æ„

![APIæµç¨‹å’Œä»£ç ç»“æ„](./images/RESTful/api-3.png)

### å¯åŠ¨ä¸€ä¸ªæœ€ç®€å•çš„ RESTful API æœåŠ¡å™¨

![å¯åŠ¨ä¸€ä¸ªæœ€ç®€å•çš„RESTful API æœåŠ¡å™¨](./images/RESTful/api-4.png)

### é…ç½®æ–‡ä»¶è¯»å–

![é…ç½®æ–‡ä»¶è¯»å–](./images/RESTful/api-5.png)

### è®°å½•å’Œç®¡ç† API æ—¥å¿—

![è®°å½•å’Œç®¡ç† API æ—¥å¿—](./images/RESTful/api-6.png)

### å®‰è£… MySQL å¹¶åˆå§‹åŒ–è¡¨

![å®‰è£… MySQL å¹¶åˆå§‹åŒ–è¡¨](./images/RESTful/api-7.png)

è¿è¡ŒMySQL

```sh
docker run --name mysql -v ~/dockerdata:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 -d -i -p 3306:3306 --restart=always  mysql:5.6

docker cp api-03/db.sql e60fcab227d4:/tmp/

docker exec -ti mysql bash

mysql -uroot -p123456

source  /tmp/db.sql
```

### åˆå§‹åŒ– MySQL æ•°æ®åº“å¹¶å»ºç«‹è¿æ¥

![åˆå§‹åŒ– MySQL æ•°æ®åº“å¹¶å»ºç«‹è¿æ¥](./images/RESTful/api-8.png)

### è‡ªå®šä¹‰ä¸šåŠ¡é”™è¯¯ä¿¡æ¯

![è‡ªå®šä¹‰ä¸šåŠ¡é”™è¯¯ä¿¡æ¯](./images/RESTful/api-9.png)

### è¯»å–å’Œè¿”å› HTTP è¯·æ±‚

![è¯»å–å’Œè¿”å› HTTP è¯·æ±‚](./images/RESTful/api-10.png)

### ç”¨æˆ·ä¸šåŠ¡é€»è¾‘å¤„ç†

![ç”¨æˆ·ä¸šåŠ¡é€»è¾‘å¤„ç†](./images/RESTful/api-11.png)

### HTTP è°ƒç”¨æ·»åŠ è‡ªå®šä¹‰å¤„ç†é€»è¾‘

![HTTP è°ƒç”¨æ·»åŠ è‡ªå®šä¹‰å¤„ç†é€»è¾‘](./images/RESTful/api-12.png)

### API èº«ä»½éªŒè¯

![API èº«ä»½éªŒè¯](./images/RESTful/api-13.png)

### ç”¨ HTTPS åŠ å¯† API è¯·æ±‚

![ç”¨ HTTPS åŠ å¯† API è¯·æ±‚](./images/RESTful/api-14.png)

API Server æ·»åŠ  HTTPS æ”¯æŒ

ç”Ÿæˆç§é’¥æ–‡ä»¶ï¼ˆserver.keyï¼‰å’Œè‡ªç­¾å‘çš„æ•°å­—è¯ä¹¦ï¼ˆserver.crtï¼‰

```sh
openssl req -new -nodes -x509 -out conf/server.crt -keyout conf/server.key -days 3650 -subj "/C=DE/ST=NRW/L=Earth/O=Random Company/OU=IT/CN=127.0.0.1/emailAddress=xxxxx@qq.com"
```

### ç”¨ Makefile ç®¡ç† API é¡¹ç›®

![ç”¨ Makefile ç®¡ç† API é¡¹ç›®](./images/RESTful/api-15.png)

### ç»™ API å‘½ä»¤å¢åŠ ç‰ˆæœ¬åŠŸèƒ½

![ç»™ API å‘½ä»¤å¢åŠ ç‰ˆæœ¬åŠŸèƒ½](./images/RESTful/api-16.png)
